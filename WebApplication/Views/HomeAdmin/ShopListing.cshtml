
@{
    ViewBag.Title = "ShopListing";
    Layout = "~/Views/Shared/ALayout.cshtml";
}
@model WebApplication.Models.ProductModel

<!-- Hero Banner start -->
<div class="page-title-banner">
    <div class="container">
        <div class="left-right-image">
            <img src="~/assets/media/page-title-banner/img-1.png"
                 class="left-img" alt>
            <img src="~/assets/media/page-title-banner/img-2.png"
                 class="right-img" alt>
        </div>
        <div class="content">
            <div class="title">
                <h2>Shop List</h2>
            </div>
        </div>
    </div>
</div>

<!-- Main Content Start -->
<div class="page-content">

    <!-- All Product Start -->
    <section class="all-product p-96">
        <div class="container">
            <div class="row">
                <div class="col-xl-4">
                    <div class="mb-32">
                        <form action="shop-listing-2.html"
                              class="input-group search-bar">
                            <input type="text" placeholder="Search..."
                                   required />
                            <button class="search" type="submit">
                                <i class="far fa-search search-icon"></i>
                            </button>
                        </form>
                    </div>
                    <div class="categories-block mb-32">
                        <h2 class="h-27 bold light-black mb-16">
                            Categories
                        </h2>
                        <ul class="categorie unstyled">
                            <li><a href="#" class="category-link" data-category="Lego Bricks">Lego Bricks</a></li>
                            <li><a href="#" class="category-link" data-category="Plush Toy">Plush Toys</a></li>
                            <li><a href="#" class="category-link" data-category="Remote Control">Remote Control</a></li>
                            <li><a href="#" class="category-link" data-category="Toy Sets">Toy Sets</a></li>
                            <li><a href="#" class="category-link" data-category="All">All Toys</a></li>
                        </ul>
                    </div>
                    <div class="categories-block mb-32">
                        <h2 class="h-27 bold light-black mb-16">
                            By Age
                        </h2>
                        <ul class="categorie unstyled">
                            <li><a href="#" class="age-link" data-age="0-3">0-3</a></li>
                            <li><a href="#" class="age-link" data-age="3-10">3-10</a></li>
                            <li><a href="#" class="age-link" data-age="10-16">10-16</a></li>
                            <li><a href="#" class="age-link" data-age="16-21">16-21</a></li>
                            <li><a href="#" class="age-link" data-age="All">All Toys</a></li>
                        </ul>

                    </div>
                    <input type="text" class="form-control" id="priceInput" placeholder="Price">
                    <button class="cus-btn primary m-3" id="filterButton">Filter</button>
                </div>
                <div class="col-xl-8">
                    <div class="card mb-32">
                        <div class="card-header mb-0">
                            <ul class="nav nav-tabs card-header-tabs st-2 mb-32" data-bs-tabs="tabs">
                                <li class="nav-item">
                                    <a href="#all" class="active" aria-current="true" data-bs-toggle="tab">
                                        All
                                        Toys
                                    </a>
                                </li>
                                <li class="nav-item">
                                    <a href="#top" aria-current="false" data-bs-toggle="tab">Top Sellers</a>
                                </li>
                                <li class="nav-item">
                                    <a href="#sale" aria-current="false" data-bs-toggle="tab">On Sale</a>
                                </li>
                                <li class="nav-item">
                                    <a href="#boy" aria-current="false" data-bs-toggle="tab">Boys</a>
                                </li>
                                <li class="nav-item">
                                    <a href="#girl" aria-current="false" data-bs-toggle="tab">Girls</a>
                                </li>
                            </ul>
                        </div>
                        <form class="card-body tab-content">
                            <div class="tab-pane active" id="all">
                                <div class="product type-2">

                                    @{
                                        var productTable = Model.dataForTable();

                                        foreach (var product in productTable)
                                        {
                                            if (product != null && product.IsActive)
                                            {
                                                <div class="product-card sec">
                                                    <div class="img-block">
                                                        <img src=@product.ImagePath alt="">
                                                    </div>
                                                    <div class="content">
                                                        <div class="name-price mb-38">
                                                            <div class="product-name">
                                                                <h5>@product.ProductName</h5>
                                                            </div>
                                                            <div class="product-price">
                                                                <h5 class="bold">– $@product.Price</h5>
                                                            </div>
                                                        </div>
                                                        <div class="name-price mb-38">
                                                            <div class="product-name">
                                                                <h5>Category:</h5>
                                                            </div>
                                                            <div class="tag">
                                                                <h5 class="bold">@product.Category</h5>
                                                            </div>
                                                            <div class="tog">
                                                                <h5 class="bold">@product.CategoryByAge</h5>
                                                            </div>
                                                        </div>
                                                        <div class="btn-block">

                                                            <a href="@Url.Action("ProductDetail", "HomeAdmin", new { productId = product.ProductId })" class="list-btn">
                                                                <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32" fill="none">
                                                                    <g clip-path="url(#clip0_1109_1878)">
                                                                        <path d="M31.8026 15.4416C31.517 15.123 24.6467 7.62939 16.0415 7.62939C7.43641 7.62939 0.56616 15.123 0.280473 15.4416C-0.0381523 15.7977 -0.0381523 16.3361 0.280473 16.6922C0.56616 17.0108 7.43653 24.5044 16.0415 24.5044C24.6465 24.5044 31.5169 17.0108 31.8026 16.6922C32.1212 16.3361 32.1212 15.7977 31.8026 15.4416ZM16.0415 22.6294C12.4233 22.6294 9.47904 19.6851 9.47904 16.0669C9.47904 12.4487 12.4233 9.50439 16.0415 9.50439C19.6597 9.50439 22.604 12.4487 22.604 16.0669C22.604 19.6851 19.6597 22.6294 16.0415 22.6294Z" fill="#2C2D2F" />
                                                                        <path d="M16.979 14.1919C16.979 13.2488 17.4472 12.4191 18.1595 11.9088C17.5203 11.5816 16.8075 11.3794 16.0415 11.3794C13.457 11.3794 11.354 13.4823 11.354 16.0669C11.354 18.6515 13.457 20.7544 16.0415 20.7544C18.3555 20.7544 20.2708 19.0648 20.6492 16.857C18.7613 17.4648 16.979 16.037 16.979 14.1919Z" fill="#2C2D2F" />
                                                                    </g>
                                                                    <defs>
                                                                        <clipPath id="clip0_1109_1878">
                                                                            <rect width="32" height="32" fill="white" />
                                                                        </clipPath>
                                                                    </defs>
                                                                </svg>
                                                            </a>
                                                        </div>
                                                    </div>
                                                </div>
                                            }


                                        }
                                    }
                                </div>
                            </div>
                            <div class="tab-pane" id="top">
                                <div class="product type-2">

                                    @{
                                        foreach (var product in productTable)
                                        {
                                            if (product != null && product.IsActive && product.SellCategory.Equals("Top Sellers"))
                                            {
                                                <div class="product-card sec">
                                                    <div class="img-block">
                                                        <img src=@product.ImagePath alt="">
                                                    </div>
                                                    <div class="content">
                                                        <div class="name-price mb-38">
                                                            <div class="product-name">
                                                                <h5>@product.ProductName</h5>
                                                            </div>
                                                            <div class="product-price">
                                                                <h5 class="bold">– $@product.Price</h5>
                                                            </div>
                                                        </div>
                                                        <div class="name-price mb-38">
                                                            <div class="product-name">
                                                                <h5>Category:</h5>
                                                            </div>
                                                            <div class="tag">
                                                                <h5 class="bold">@product.Category @product.CategoryByAge</h5>
                                                            </div>
                                                            <div class="tog">
                                                                <h5 class="bold">@product.CategoryByAge</h5>
                                                            </div>
                                                        </div>
                                                        <div class="btn-block">

                                                            <a href="@Url.Action("ProductDetail", "HomeAdmin", new { productId = product.ProductId })" class="list-btn">
                                                                <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32" fill="none">
                                                                    <g clip-path="url(#clip0_1109_1878)">
                                                                        <path d="M31.8026 15.4416C31.517 15.123 24.6467 7.62939 16.0415 7.62939C7.43641 7.62939 0.56616 15.123 0.280473 15.4416C-0.0381523 15.7977 -0.0381523 16.3361 0.280473 16.6922C0.56616 17.0108 7.43653 24.5044 16.0415 24.5044C24.6465 24.5044 31.5169 17.0108 31.8026 16.6922C32.1212 16.3361 32.1212 15.7977 31.8026 15.4416ZM16.0415 22.6294C12.4233 22.6294 9.47904 19.6851 9.47904 16.0669C9.47904 12.4487 12.4233 9.50439 16.0415 9.50439C19.6597 9.50439 22.604 12.4487 22.604 16.0669C22.604 19.6851 19.6597 22.6294 16.0415 22.6294Z" fill="#2C2D2F" />
                                                                        <path d="M16.979 14.1919C16.979 13.2488 17.4472 12.4191 18.1595 11.9088C17.5203 11.5816 16.8075 11.3794 16.0415 11.3794C13.457 11.3794 11.354 13.4823 11.354 16.0669C11.354 18.6515 13.457 20.7544 16.0415 20.7544C18.3555 20.7544 20.2708 19.0648 20.6492 16.857C18.7613 17.4648 16.979 16.037 16.979 14.1919Z" fill="#2C2D2F" />
                                                                    </g>
                                                                    <defs>
                                                                        <clipPath id="clip0_1109_1878">
                                                                            <rect width="32" height="32" fill="white" />
                                                                        </clipPath>
                                                                    </defs>
                                                                </svg>
                                                            </a>
                                                        </div>
                                                    </div>
                                                </div>
                                            }


                                        }
                                    }
                                </div>
                            </div>
                            <div class="tab-pane" id="sale">
                                <div class="product type-2">

                                    @{
                                        foreach (var product in productTable)
                                        {
                                            if (product != null && product.IsActive && product.SellCategory.Equals("On Sales"))
                                            {
                                                <div class="product-card sec">
                                                    <div class="img-block">
                                                        <img src=@product.ImagePath alt="">
                                                    </div>
                                                    <div class="content">
                                                        <div class="name-price mb-38">
                                                            <div class="product-name">
                                                                <h5>@product.ProductName</h5>
                                                            </div>
                                                            <div class="product-price">
                                                                <h5 class="bold">– $@product.Price</h5>
                                                            </div>
                                                        </div>
                                                        <div class="name-price mb-38">
                                                            <div class="product-name">
                                                                <h5>Category:</h5>
                                                            </div>

                                                            <div class="tag">
                                                                <h5 class="bold">@product.Category</h5>
                                                            </div>
                                                            <div class="tog">
                                                                <h5 class="bold">@product.CategoryByAge</h5>
                                                            </div>
                                                        </div>
                                                        <div class="btn-block">

                                                            <a href="@Url.Action("ProductDetail", "HomeAdmin", new { productId = product.ProductId })" class="list-btn">
                                                                <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32" fill="none">
                                                                    <g clip-path="url(#clip0_1109_1878)">
                                                                        <path d="M31.8026 15.4416C31.517 15.123 24.6467 7.62939 16.0415 7.62939C7.43641 7.62939 0.56616 15.123 0.280473 15.4416C-0.0381523 15.7977 -0.0381523 16.3361 0.280473 16.6922C0.56616 17.0108 7.43653 24.5044 16.0415 24.5044C24.6465 24.5044 31.5169 17.0108 31.8026 16.6922C32.1212 16.3361 32.1212 15.7977 31.8026 15.4416ZM16.0415 22.6294C12.4233 22.6294 9.47904 19.6851 9.47904 16.0669C9.47904 12.4487 12.4233 9.50439 16.0415 9.50439C19.6597 9.50439 22.604 12.4487 22.604 16.0669C22.604 19.6851 19.6597 22.6294 16.0415 22.6294Z" fill="#2C2D2F" />
                                                                        <path d="M16.979 14.1919C16.979 13.2488 17.4472 12.4191 18.1595 11.9088C17.5203 11.5816 16.8075 11.3794 16.0415 11.3794C13.457 11.3794 11.354 13.4823 11.354 16.0669C11.354 18.6515 13.457 20.7544 16.0415 20.7544C18.3555 20.7544 20.2708 19.0648 20.6492 16.857C18.7613 17.4648 16.979 16.037 16.979 14.1919Z" fill="#2C2D2F" />
                                                                    </g>
                                                                    <defs>
                                                                        <clipPath id="clip0_1109_1878">
                                                                            <rect width="32" height="32" fill="white" />
                                                                        </clipPath>
                                                                    </defs>
                                                                </svg>
                                                            </a>
                                                        </div>
                                                    </div>
                                                </div>
                                            }


                                        }
                                    }
                                </div>
                            </div>
                            <div class="tab-pane" id="boy">
                                <div class="product type-2">

                                    @{
                                        foreach (var product in productTable)
                                        {
                                            if (product != null && product.IsActive && product.SellCategory.Equals("Boys"))
                                            {
                                                <div class="product-card sec">
                                                    <div class="img-block">
                                                        <img src=@product.ImagePath alt="">
                                                    </div>
                                                    <div class="content">
                                                        <div class="name-price mb-38">
                                                            <div class="product-name">
                                                                <h5>@product.ProductName</h5>
                                                            </div>
                                                            <div class="product-price">
                                                                <h5 class="bold">– $@product.Price</h5>
                                                            </div>
                                                        </div>
                                                        <div class="name-price mb-38">
                                                            <div class="product-name">
                                                                <h5>Category:</h5>
                                                            </div>
                                                            <div class="tag">
                                                                <h5 class="bold">@product.Category</h5>
                                                            </div>
                                                            <div class="tog">
                                                                <h5 class="bold">@product.CategoryByAge</h5>
                                                            </div>
                                                        </div>
                                                        <div class="btn-block">

                                                            <a href="@Url.Action("ProductDetail", "HomeAdmin", new { productId = product.ProductId })" class="list-btn">
                                                                <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32" fill="none">
                                                                    <g clip-path="url(#clip0_1109_1878)">
                                                                        <path d="M31.8026 15.4416C31.517 15.123 24.6467 7.62939 16.0415 7.62939C7.43641 7.62939 0.56616 15.123 0.280473 15.4416C-0.0381523 15.7977 -0.0381523 16.3361 0.280473 16.6922C0.56616 17.0108 7.43653 24.5044 16.0415 24.5044C24.6465 24.5044 31.5169 17.0108 31.8026 16.6922C32.1212 16.3361 32.1212 15.7977 31.8026 15.4416ZM16.0415 22.6294C12.4233 22.6294 9.47904 19.6851 9.47904 16.0669C9.47904 12.4487 12.4233 9.50439 16.0415 9.50439C19.6597 9.50439 22.604 12.4487 22.604 16.0669C22.604 19.6851 19.6597 22.6294 16.0415 22.6294Z" fill="#2C2D2F" />
                                                                        <path d="M16.979 14.1919C16.979 13.2488 17.4472 12.4191 18.1595 11.9088C17.5203 11.5816 16.8075 11.3794 16.0415 11.3794C13.457 11.3794 11.354 13.4823 11.354 16.0669C11.354 18.6515 13.457 20.7544 16.0415 20.7544C18.3555 20.7544 20.2708 19.0648 20.6492 16.857C18.7613 17.4648 16.979 16.037 16.979 14.1919Z" fill="#2C2D2F" />
                                                                    </g>
                                                                    <defs>
                                                                        <clipPath id="clip0_1109_1878">
                                                                            <rect width="32" height="32" fill="white" />
                                                                        </clipPath>
                                                                    </defs>
                                                                </svg>
                                                            </a>
                                                        </div>
                                                    </div>
                                                </div>
                                            }


                                        }
                                    }
                                </div>
                            </div>
                            <div class="tab-pane" id="girl">


                                <div class="product type-2">

                                    @{
                                        foreach (var product in productTable)
                                        {
                                            if (product != null && product.IsActive && product.SellCategory.Equals("Girls"))
                                            {
                                                <div class="product-card sec">
                                                    <div class="img-block">
                                                        <img src=@product.ImagePath alt="">
                                                    </div>
                                                    <div class="content">
                                                        <div class="name-price mb-38">
                                                            <div class="product-name">
                                                                <h5>@product.ProductName</h5>
                                                            </div>
                                                            <div class="product-price">
                                                                <h5 class="bold">– $@product.Price</h5>
                                                            </div>
                                                        </div>
                                                        <div class="name-price mb-38">
                                                            <div class="product-name">
                                                                <h5>Category:</h5>
                                                            </div>
                                                            <div class="tag">
                                                                <h5 class="bold">@product.Category</h5>
                                                            </div>
                                                            <div class="tog">
                                                                <h5 class="bold">@product.CategoryByAge</h5>
                                                            </div>
                                                        </div>
                                                        <div class="btn-block">

                                                            <a href="@Url.Action("ProductDetail", "HomeAdmin", new { productId = product.ProductId })" class="list-btn">
                                                                <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32" fill="none">
                                                                    <g clip-path="url(#clip0_1109_1878)">
                                                                        <path d="M31.8026 15.4416C31.517 15.123 24.6467 7.62939 16.0415 7.62939C7.43641 7.62939 0.56616 15.123 0.280473 15.4416C-0.0381523 15.7977 -0.0381523 16.3361 0.280473 16.6922C0.56616 17.0108 7.43653 24.5044 16.0415 24.5044C24.6465 24.5044 31.5169 17.0108 31.8026 16.6922C32.1212 16.3361 32.1212 15.7977 31.8026 15.4416ZM16.0415 22.6294C12.4233 22.6294 9.47904 19.6851 9.47904 16.0669C9.47904 12.4487 12.4233 9.50439 16.0415 9.50439C19.6597 9.50439 22.604 12.4487 22.604 16.0669C22.604 19.6851 19.6597 22.6294 16.0415 22.6294Z" fill="#2C2D2F" />
                                                                        <path d="M16.979 14.1919C16.979 13.2488 17.4472 12.4191 18.1595 11.9088C17.5203 11.5816 16.8075 11.3794 16.0415 11.3794C13.457 11.3794 11.354 13.4823 11.354 16.0669C11.354 18.6515 13.457 20.7544 16.0415 20.7544C18.3555 20.7544 20.2708 19.0648 20.6492 16.857C18.7613 17.4648 16.979 16.037 16.979 14.1919Z" fill="#2C2D2F" />
                                                                    </g>
                                                                    <defs>
                                                                        <clipPath id="clip0_1109_1878">
                                                                            <rect width="32" height="32" fill="white" />
                                                                        </clipPath>
                                                                    </defs>
                                                                </svg>
                                                            </a>
                                                        </div>
                                                    </div>
                                                </div>
                                            }


                                        }
                                    }
                                </div>
                            </div>
                        </form>
                    </div>


                </div>
            </div>
        </div>
    </section>
    <!-- All Product End -->
    <!-- Comming Soon Area Start -->
    <section class="comming-soon">
        <div class="container">
            <div class="content">
                <h6 class="h-36 bold color-white">New</h6>
                <h2>Baby Toys</h2>
                <h3 class="h-61 bold color-white mb-32">
                    Will Be
                    In-Stock!
                </h3>
                <ul class="timer countdown unstyled">
                    <li>20 <small>d</small></li>
                    <li>23 <small>h</small></li>
                    <li>50 <small>m</small></li>
                    <li>34 <small>s</small></li>
                </ul>
            </div>
        </div>
    </section>
    <!-- Comming Soon Area End -->

</div>
<!-- Ссылка на jQuery -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<!-- Ваш скрипт для фильтрации -->
<script>
    $(document).ready(function () {
        $(".category-link").click(function (e) {
            e.preventDefault();
            var category = $(this).data('category').toLowerCase();

            $(".product-card.sec").each(function () {
                var productCategory = $(this).find('.tag .bold').text().trim().toLowerCase();
                if (category === 'all' || productCategory === category) {
                    $(this).show();
                } else {
                    $(this).hide();
                }
            });
        });
    });

    $(".age-link").click(function (e) {
        e.preventDefault();
        var age = $(this).data('age').toLowerCase();

        $(".product-card.sec").each(function () {
            var productAge = $(this).find('.tog .bold').text().trim().toLowerCase();
            if (age === 'all' || productAge === age) {
                $(this).show();
            } else {
                $(this).hide();
            }
        });
    });
    $(document).ready(function () {
        $('#filterButton').click(function () {
            var inputPrice = $('#priceInput').val();

            // Если поле ввода пустое, показываем все товары
            if (inputPrice.trim() === "") {
                $('.product-card.sec').show();
                return;
            }

            var parsedInputPrice = parseFloat(inputPrice);

            if (isNaN(parsedInputPrice)) {
                alert("Please enter a valid number for price.");
                return;
            }

            // Фильтрация товаров
            $('.product-card.sec').each(function () {
                var priceText = $(this).find('.product-price h5.bold').text();
                var price = parseFloat(priceText.replace(/[^\d.-]/g, ''));

                // Выводим отладочную информацию в консоль
                console.log("Extracted price text: " + priceText);
                console.log("Parsed price: " + price);

                if (isNaN(price)) {
                    console.error("Invalid price format: " + priceText);
                    return true; // Пропускаем эту итерацию
                }

                if (price === parsedInputPrice) {
                    $(this).show();
                } else {
                    $(this).hide();
                }
            });
        });
    });



</script>


<!-- Main Content End -->
